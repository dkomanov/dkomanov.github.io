"use strict";(self.webpackChunkkomanov_com=self.webpackChunkkomanov_com||[]).push([[792],{3396:function(e,t,a){a.r(t);var n=a(2982),r=a(7294),l=a(1597),i=a(5224),o=a(4271),c=[{name:"Jackson (JSON)",value:"JSON"},{name:"Jackson (Cbor)",value:"CBOR"},{name:"Jackson (Smile)",value:"SMILE"},{name:"ScalaPb",value:"SCALA_PB"},{name:"JavaPb",value:"JAVA_PB"},{name:"JavaThrift",value:"JAVA_THRIFT"},{name:"BooPickle",value:"BOOPICKLE"},{name:"Chill",value:"CHILL"},{name:"Jsoniter",value:"JSONITER"},{name:"uPickle JSON",value:"UPICKLE_JSON"},{name:"uPickle MskPack",value:"UPICKLE_MSGPACK"}],s={title:"Converter",prop:"library",values:c.concat([{name:"Circe",value:"CIRCE"},{name:"JavaSerialization",value:"SERIALIZABLE"}])},u={title:"Converter",prop:"library",values:c},m={title:"JDK",prop:"jdk",values:i.Sy},d=[{name:"1K",value:1e3},{name:"2K",value:2e3},{name:"4K",value:4e3},{name:"8K",value:8e3},{name:"64K",value:64e3}],f=[{label:"parse + serialize",value:"both",default:!0},{label:"serialize only",value:"serialization"},{label:"parse only",value:"deserialization"}];function v(e){var t;return null===(t=f.find((function(t){return t.value===e})))||void 0===t?void 0:t.label}var h=function(e){return"/data/charts/scala-serialization-2022/"+e},p=(0,i.wZ)((function(e){var t=e.jmhList,a=(0,r.useState)(!1),n=a[0],o=a[1],c=(0,r.useState)(4e3),p=c[0],E=c[1],k=(0,r.useState)("both"),S=k[0],b=k[1],T=(0,r.useState)({func:null}),j=T[0],C=T[1],y=(0,r.useState)("openjdk-17"),z=y[0],g=y[1],x=function(e){return j.func(e)/1e3};return r.createElement("div",{className:"markdown"},r.createElement("h3",null,"Introduction"),r.createElement("p",null,"Here are benchmarking results for"," ",r.createElement(l.Link,{to:"/p/scala-serialization-2022"},"«Scala Serialization 2022»")," ","blog post. Graphs from the previous runs (2016-2018) are"," ",r.createElement(l.Link,{to:"/charts/scala-serialization"},"here"),"."),r.createElement("p",null,"The performance tests are performed via"," ",r.createElement("a",{href:"https://github.com/openjdk/jmh"},"JMH"),". The configuration of a hardware is Intel® Core™ i7-1165G7 @ 2.80GHz × 8 (4 core + 4 HT) with 16 GB RAM. Scala version: 2.13.6."),r.createElement("h3",null,"Misc"),r.createElement("ul",null,r.createElement("li",null,"Latest version of jsoniter doesn't work on openjdk-8."),r.createElement("li",null,"Java Serialization, circe and chill are by far the slowest. You may turn it off on charts to make it more readable.")),r.createElement("h3",null,"Charts"),r.createElement(i.V2,{label:"Data Size:",items:d.map((function(e){var t=e.name,a=e.value;return{label:t,value:a,default:4e3===a}})),onChange:function(e){return E(e)}}),r.createElement(i.V2,{label:"Action:",items:f,onChange:function(e){return b(e)}}),r.createElement(i.V2,{label:"Exclude slowest:",items:[{label:"No",value:!1,default:!0},{label:"Yes, please",value:!0}],onChange:function(e){return o(e)}}),r.createElement(i.J6,{onChange:function(e){return C({func:e})}}),r.createElement("h3",{id:"site"},"Site DTO"),r.createElement(i.We,{dataTable:t,extractor:x,filter:function(e){return"Site"===e.dataType&&e.action===S&&e.dataSize===p},title:"Times of "+v(S)+" for Site class (DTO), microseconds",xDesc:n?u:s,yDesc:m,options:{}}),r.createElement("h3",{id:"events"},"Events"),r.createElement(i.We,{dataTable:t,extractor:x,filter:function(e){return"Event"===e.dataType&&e.action===S&&e.dataSize===p},title:"Times of "+v(S)+" for list of Events, microseconds",xDesc:n?u:s,yDesc:m}),r.createElement("h3",{id:"progression"},"Progression depending on data size"),r.createElement("p",null,"It doesn't show anything unusual, which is a good sign."),r.createElement(i.V2,{label:"JDK:",items:(0,i.Jw)(i.Sy,(function(e,t){return 0===t})),onChange:function(e){return g(e)}}),r.createElement("h4",null,"Site DTO"),r.createElement(i.We,{chartType:"LineChart",dataTable:t,extractor:x,filter:function(e){return"Site"===e.dataType&&e.action===S&&e.jdk===z},title:"Times of "+v(S)+" for Site class (DTO), microseconds",xDesc:n?u:s,yDesc:{title:"Data Size",prop:"dataSize",values:[1e3,2e3,4e3,8e3,64e3]},options:{hAxis:{title:"Data Size, bytes"},vAxis:{title:"time, microseconds"}}}),r.createElement("h4",null,"Events"),r.createElement(i.We,{chartType:"LineChart",dataTable:t,extractor:x,filter:function(e){return"Event"===e.dataType&&e.action===S&&e.jdk===z},title:"Times of "+v(S)+" for list of Events, microseconds",xDesc:n?u:s,yDesc:{title:"Data Size",prop:"dataSize",values:[1e3,2e3,4e3,8e3,64e3],minValue:10},options:{hAxis:{title:"Data Size, bytes"},vAxis:{title:"time, microseconds"}}}),r.createElement("p",null,"Full JMH logs:",r.createElement("a",{href:h("jdk8.log.txt")},"openjdk-8"),","," ",r.createElement("a",{href:h("jdk11.log.txt")},"openjdk-11"),","," ",r.createElement("a",{href:h("jdk17.log.txt")},"openjdk-17"),"."))}),{fetchFunc:function(){return Promise.all([(0,o._l)(h("jdk8.json")),(0,o._l)(h("jdk11.json")),(0,o._l)(h("jdk17.json"))]).then((function(e){function t(t,a){var n=e[t].data;return n.forEach((function(e){return e.params=Object.assign({},e.params,{jdk:a})})),n}return{data:[].concat((0,n.Z)(t(0,"openjdk-8")),(0,n.Z)(t(1,"openjdk-11")),(0,n.Z)(t(2,"openjdk-17")))}}))},exportDimensionsFunc:function(e,t){var a=e.split("Benchmark."),n=a[0],r=a[1],l=a.slice(2);if(!r||l.length>0)throw new Error("Expected 2 parts in a benchmark: "+e);var i=n.substring(n.lastIndexOf(".")+1),o=1e3*parseInt((/_(\d+)_K/.exec(t.inputType)||[])[1],10);return{library:t.converterType,action:r,dataType:i,dataSize:o,jdk:t.jdk}},headerText:"Scala Serialization 2022 (Charts)"});t.default=p}}]);
//# sourceMappingURL=component---src-pages-charts-scala-serialization-2022-index-tsx-2a150229b776526a66c6.js.map