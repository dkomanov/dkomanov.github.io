{"version":3,"sources":["webpack:///./src/pages/charts/scala-string-format/index.js"],"names":["xDesc","title","prop","values","yDesc","name","value","ScalaStringFormatImpl","render","_this","this","extractor","state","jmhList","props","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","gatsby__WEBPACK_IMPORTED_MODULE_0__","to","href","_components__WEBPACK_IMPORTED_MODULE_2__","onChange","setState","dataTable","filter","d","dataSize","React","Component","ScalaStringFormat","JmhChartPage","fetchFunc","loadJson","exportDimensionsFunc","benchmark","params","index","lastIndexOf","Error","substring","arg","headerText"],"mappings":"iJAKA,IAAMA,EAAQ,CACZC,MAAO,SACPC,KAAM,OACNC,OAAQ,CAAC,aAAc,eAAgB,gBAAiB,cAAe,mBAAoB,mBAAoB,wBAAyB,QAAS,gBAAiB,gBAAiB,kBAAmB,oBAGlMC,EAAQ,CACZH,MAAO,gBACPC,KAAM,WACNC,OAAQ,CACN,CACEE,KAAM,WACNC,MAAO,QAET,CACED,KAAM,kBACNC,MAAO,aAET,CACED,KAAM,aACNC,MAAO,SAET,CACED,KAAM,cACNC,MAAO,UAET,CACED,KAAM,aACNC,MAAO,QAET,CACED,KAAM,mBACNC,MAAO,YAET,CACED,KAAM,6BACNC,MAAO,sBAKPC,kLACJC,OAAA,WAAS,IAAAC,EAAAC,KACAC,GAAaD,KAAKE,OAAS,IAA3BD,UACAE,EAAWH,KAAKI,MAAhBD,QAEP,OACEE,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,0BAEAF,EAAAC,EAAAC,cAAA,8HACqH,IADrH,QAEOF,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,GAAG,6CAAT,6CAFP,KAKAJ,EAAAC,EAAAC,cAAA,qGAIAF,EAAAC,EAAAC,cAAA,gCACsBF,EAAAC,EAAAC,cAAA,KAAGG,KAAK,oDAAR,OADtB,wPAMAL,EAAAC,EAAAC,cAAA,mBAEAF,EAAAC,EAAAC,cAACI,EAAA,EAAD,CAAWC,SAAU,SAAAX,GAAS,OAAIF,EAAKc,SAAS,CAACZ,iBAEjDI,EAAAC,EAAAC,cAACI,EAAA,EAAD,CACEG,UAAWX,EACXF,UAAWA,EACXc,OAAQ,SAAAC,GAAC,QAAMA,EAAEC,UACjB1B,MAAM,iCACND,MAAOA,EACPI,MAAOA,IAGTW,EAAAC,EAAAC,cAAA,4BACkBF,EAAAC,EAAAC,cAAA,KAAGG,KAAK,4CAAR,QADlB,UArC4BQ,IAAMC,WA2D1C,IAAMC,EAAoBC,YACxBxB,EACA,CACEyB,UAAW,kBAAMC,YAAS,qDAC1BC,qBAlBJ,SAA0BC,EAAWC,GAGnC,IAAMC,EAAQF,EAAUG,YAAY,KACpC,IAAe,IAAXD,EACF,MAAM,IAAIE,MAAM,kCAAoCJ,GAGtD,MAAO,CACL9B,KAAM8B,EAAUK,UAAUH,EAAQ,GAClCV,SAAUS,GAAUA,EAAOK,MAS3BC,WAAY,qDAIDZ","file":"component---src-pages-charts-scala-string-format-index-js-b8258e72a03cfb42d11a.js","sourcesContent":["import {Link} from 'gatsby';\nimport React from 'react';\nimport {ChartAndTable, JmhChartPage, TimeUnits} from '../../../components';\nimport {loadJson} from '../../../util';\n\nconst xDesc = {\n  title: 'Method',\n  prop: 'name',\n  values: ['javaConcat', 'stringFormat', 'messageFormat', 'scalaConcat', 'concatOptimized1', 'concatOptimized2', 'concatOptimizedMacros', 'slf4j', 'sInterpolator', 'fInterpolator', 'rawInterpolator', 'sfiInterpolator'],\n};\n\nconst yDesc = {\n  title: 'string length',\n  prop: 'dataSize',\n  values: [\n    {\n      name: 'tiny (7)',\n      value: 'Tiny',\n    },\n    {\n      name: 'very short (17)',\n      value: 'VeryShort',\n    },\n    {\n      name: 'short (29)',\n      value: 'Short',\n    },\n    {\n      name: 'medium (75)',\n      value: 'Medium',\n    },\n    {\n      name: 'long (212)',\n      value: 'Long',\n    },\n    {\n      name: 'very long (1004)',\n      value: 'VeryLong',\n    },\n    {\n      name: 'very long size miss (1006)',\n      value: 'VeryLongSizeMiss',\n    },\n  ],\n};\n\nclass ScalaStringFormatImpl extends React.Component {\n  render() {\n    const {extractor} = this.state || {};\n    const {jmhList} = this.props;\n\n    return (\n      <div>\n        <h3>Introduction</h3>\n\n        <p>\n          Here are present actual charts for performance comparison of string formatting in Java/Scala for the corresponding{' '}\n          post <Link to=\"/p/scala-string-interpolation-performance\">&laquo;Scala: String Interpolation Performance&raquo;</Link>.\n        </p>\n\n        <p>\n          The legend for tests. &laquo;String length&raquo; is a length of a result string (after formatting).\n        </p>\n\n        <p>\n          Tests performed via <a href=\"http://openjdk.java.net/projects/code-tools/jmh/\">JMH</a>, 2 forks, 3 warmup\n          runs and 7 iteration (3 seconds each). Ubuntu 16.04, linux-kernel 4.4.0-51-generic, JDK 1.8.0_91, scala library 2.12.\n          The configuration of a hardware is Intel® Core™ i7–5600U CPU @ 2.60GHz × 4 (2 core + 2 HT) with 16 GB RAM.\n        </p>\n\n        <h3>Chart</h3>\n\n        <TimeUnits onChange={extractor => this.setState({extractor})}/>\n\n        <ChartAndTable\n          dataTable={jmhList}\n          extractor={extractor}\n          filter={d => !!d.dataSize}\n          title=\"String formatting times, nanos\"\n          xDesc={xDesc}\n          yDesc={yDesc}\n        />\n\n        <p>\n          Full JMH log is <a href=\"/data/charts/scala-string-format/jmh.log\">here</a>.\n        </p>\n      </div>\n    );\n  }\n}\n\nfunction exportDimensions(benchmark, params) {\n  //'com.komanov.stringformat.jmh.ManyParamsBenchmark.concat'\n\n  const index = benchmark.lastIndexOf('.');\n  if (index === -1) {\n    throw new Error('Expected a dot in a benchmark: ' + benchmark);\n  }\n\n  return {\n    name: benchmark.substring(index + 1),\n    dataSize: params && params.arg,\n  };\n}\n\nconst ScalaStringFormat = JmhChartPage(\n  ScalaStringFormatImpl,\n  {\n    fetchFunc: () => loadJson('/data/charts/scala-string-format/jmh-result.json'),\n    exportDimensionsFunc: exportDimensions,\n    headerText: 'Scala: String Interpolation Performance (Charts)',\n  },\n);\n\nexport default ScalaStringFormat;\n"],"sourceRoot":""}